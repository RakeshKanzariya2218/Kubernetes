apiVersion: apps/v1
kind : Deployment 
metadata : 
  name : my-deployment
spec:
  replicas : 3
  selector:
    matchLabels:
      app: myapp
  template:
    metadata :
      labels:
        app : myapp
        type : backend
    spec: 
     containers:
       - name : c-1
         image : httpd
         ports:
           - containerPort : 80 
---
apiVersion: v1
kind : Service
metadata :
  name : my-service-1
spec:
  type : LoadBalancer
  selector :
    app: myapp
  ports:
    - port : 80
      protocol : TCP                # nodeport is not allowed in loadbalancer ecause in this lb dns is work as external communication
      targetPort : 80









    
